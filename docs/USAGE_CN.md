# 使用指南

本指南介绍如何使用 Auto Reader 管理和分析研究论文。

## 开始使用

### 保存论文

有两种方式保存论文：

#### 1. Chrome 扩展（推荐）

1. 安装 Chrome 扩展（从 `extension/` 文件夹加载未打包扩展）
2. 访问 arXiv、OpenReview 或任何 PDF 论文页面
3. 点击 Auto Reader 扩展图标
4. 点击"Save to Library"

扩展会自动提取：
- 论文标题
- 作者
- 摘要
- PDF 文件
- 来源 URL
- 代码仓库（如果有）

#### 2. 直接上传

通过网页界面或 API 直接上传 PDF。

## 网页界面

### 主库视图

主视图显示所有已保存的论文：

- **标题** - 论文标题（点击展开）
- **状态徽章** - 处理状态、代码可用性
- **操作** - 下载 PDF、查看笔记、切换已读

### 筛选论文

使用顶部的导航标签：

- **All** - 显示所有论文
- **Unread** - 未读论文
- **Read** - 已标记为已读的论文

额外筛选（点击 🔍）：
- 按标题搜索
- 按标签筛选

### 查看笔记

点击任意论文的"View Notes"查看：

1. **论文笔记** - AI 生成的摘要，包括：
   - 概述和 5C 评估
   - 核心问题和方法论
   - 关键图表（包含 Mermaid 图）
   - 数学框架
   - 局限性和未来工作

2. **代码笔记**（如果有）- 代码仓库分析：
   - 仓库结构
   - 关键入口点
   - 如何运行/复现

### 管理阅读状态

- 点击勾选图标切换已读/未读状态
- 未读论文在列表中优先显示

## 论文处理

### 自动处理

添加论文后会自动处理：

1. **Queued** - 论文等待处理
2. **Processing** - AI 正在分析论文
3. **Completed** - 笔记已就绪
4. **Failed** - 处理失败（会重试）

处理采用多轮方法：
- 第1轮：鸟瞰扫描（标题、摘要、结构）
- 第2轮：内容理解（方法、实验）
- 第3轮：深度分析（数学、架构图）

### 代码分析

如果论文有关联代码：

1. 点击"Analyze Code"按钮
2. 等待处理（克隆仓库、分析结构）
3. 在"Code Notes"标签页查看代码笔记

## 笔记功能

### Mermaid 图表

笔记包含自动生成的图表：
- 系统架构图
- 方法流程图
- 数据流图

如果图表渲染失败，点击"Diagram (click to view source)"查看原始代码。

### 数学公式渲染

LaTeX 数学公式使用 KaTeX 渲染：
- 行内公式：`$E = mc^2$`
- 块级公式：`$$\sum_{i=1}^n x_i$$`

### 表格

对比表格显示关键结果，并高亮最佳值。

## API 使用

### 列出文档

```bash
curl "https://api.你的域名.com/api/documents?limit=10&offset=0"
```

### 获取文档笔记

```bash
curl "https://api.你的域名.com/api/documents/{id}/notes?inline=true"
```

### 上传文档

```bash
curl -X POST "https://api.你的域名.com/api/upload" \
  -F "file=@paper.pdf" \
  -F "title=论文标题"
```

### 切换阅读状态

```bash
curl -X PATCH "https://api.你的域名.com/api/documents/{id}/read"
```

### 触发代码分析

```bash
curl -X POST "https://api.你的域名.com/api/code-analysis/{id}"
```

## 使用技巧

### 最佳实践

1. **发现论文就保存** - 不要等待，扩展操作很快
2. **使用已读/未读状态** - 跟踪实际阅读进度
3. **查看代码笔记** - 通常有复现提示
4. **查看图表** - 可视化摘要帮助理解

### 限制

- **页数限制**：超过 40 页的论文会被截断
- **文件大小**：每个 PDF 最大 50MB
- **速率限制**：每小时最多 30 篇论文分析
- **语言**：英文论文效果最好

### 故障排除

**论文卡在"Processing"：**
- 检查服务器上 Gemini CLI 是否运行
- 每篇论文处理可能需要 5-10 分钟

**笔记显示"No notes available"：**
- 论文可能还在队列中
- 检查处理状态

**Mermaid 图表不渲染：**
- 某些复杂图表可能失败
- 点击查看源代码作为备选

**代码分析按钮禁用：**
- 论文没有关联代码 URL
- 或代码分析已在进行中
